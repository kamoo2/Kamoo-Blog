{
  "title": "JS - ASYNC AWAIT",
  "description": "이전의 Promise 객체들에 대해서 성공적으로 resolve 됬을때 이에 대한 처리는 then으로 향하게 됩니다. 이로써 then을 체이닝 해줌으로써 콜백지옥에 빠진 코드를 밑으로 흐르도록 구현을 할 수 있었습니다. 그러나 async await를 이용하게 된다면 더 직관적이고 가독성이 뛰어난 코드를 구현할 수 있습니다.",
  "tags": [
    "javascript"
  ],
  "createdAt": "2023-07-24T13:00:00.000Z",
  "body": {
    "raw": "\n# 왜 async await ?\n\n이전의 Promise 객체들에 대해서 성공적으로 resolve 됬을때 이에 대한 처리는 then으로 향하게 됩니다. 이로써 then을 체이닝 해줌으로써 콜백지옥에 빠진 코드를 밑으로 흐르도록 구현을 할 수 있었습니다.\n그러나 async await를 이용하게 된다면 더 직관적이고 가독성이 뛰어난 코드를 구현할 수 있습니다.\n\n## async await를 사용해보자\n\n기본적으로 다음과 같은 프로미스를 리턴하는 함수가 있다고 합시다.\n\n```js\nfunction p(ms){\n   return new Promise((resolve,reject)=>{\n      setTimeout(()=>{\n        resolve(ms);\n      },ms);\n   });\n}\n```\n\n### Promise 객체를 리턴하는 함수를 await로 호출하기\n\n> 프로미스 객체가 정상적으로 완료됬을때 resolve 함수가 실행되고 함수에 인자로 데이터를 전달 할 수 있었습니다.\n이때 then에서 그 데이터를 인자로 전달 받았었는데 await도 마찬가지 입니다.\n\n```js\n(async function main(){\n   const ms = await p(1000);\n   console.log(ms);\n})();\n```\n\n❗️ 주의 할점 : await 키워드는 반드시 async function 내부에서만 사용 할 수 있습니다.\n\n위코드를 보면 async function인 main이 실행되면\n1. const ms = await p(1000); 코드가 실행됩니다.\n2. main 함수 내부에서는 p함수가 정상적으로 resolve 될때 까지 다음 코드를 진행하지 않고 기다립니다.\n3. ms에 1000이라는 데이터가 담기고 다음 코드인 console.log가 실행됩니다.\n\n#### reject된 경우에는 ???\n\nthen을 사용했을 때는 catch를 이용해 reject 됬을 때 에러를 리턴해줬다.\nasync await에는 catch와 같은 것이 없기 때문에 try-catch문을 사용해 해결해 줍니다.\n\n```js\n(async function main(){\n   try{\n      const ms = await p(1000);\n      // resolve 된 경우 아래 코드 실행\n      console.log(ms);\n   }catch(error){\n     // reject 된 경우 아래 코드 실행\n     console.log(error);\n   }\n})();\n```\n\n### await를 이용한 Promise.all() & Promise.race()\n\n기존의 then을 사용하는 것과 다른 것이라고는 then 대신에 앞에 await를 붙여 줬다는 점 밖에 없습니다.\n```js\n(async function main(){\n   const results = await Promise.all([p(1000),p(2000),p(3000)])\n   console.log(results); // [1000,2000,3000]\n})();\n```\n\nrace도 그냥 같은 방법이기 때문에 사용 예제는 생략 하겠습니다!\n",
    "code": "var Component=(()=>{var m=Object.create;var c=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var j=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var u=(s,a)=>()=>(a||s((a={exports:{}}).exports,a),a.exports),w=(s,a)=>{for(var e in a)c(s,e,{get:a[e],enumerable:!0})},r=(s,a,e,i)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let l of p(a))!N.call(s,l)&&l!==e&&c(s,l,{get:()=>a[l],enumerable:!(i=d(a,l))||i.enumerable});return s};var y=(s,a,e)=>(e=s!=null?m(j(s)):{},r(a||!s||!s.__esModule?c(e,\"default\",{value:s,enumerable:!0}):e,s)),f=s=>r(c({},\"__esModule\",{value:!0}),s);var t=u((x,h)=>{h.exports=_jsx_runtime});var k={};w(k,{default:()=>b,frontmatter:()=>_});var n=y(t()),_={title:\"JS - ASYNC AWAIT\",description:\"\\uC774\\uC804\\uC758 Promise \\uAC1D\\uCCB4\\uB4E4\\uC5D0 \\uB300\\uD574\\uC11C \\uC131\\uACF5\\uC801\\uC73C\\uB85C resolve \\uB42C\\uC744\\uB54C \\uC774\\uC5D0 \\uB300\\uD55C \\uCC98\\uB9AC\\uB294 then\\uC73C\\uB85C \\uD5A5\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4. \\uC774\\uB85C\\uC368 then\\uC744 \\uCCB4\\uC774\\uB2DD \\uD574\\uC90C\\uC73C\\uB85C\\uC368 \\uCF5C\\uBC31\\uC9C0\\uC625\\uC5D0 \\uBE60\\uC9C4 \\uCF54\\uB4DC\\uB97C \\uBC11\\uC73C\\uB85C \\uD750\\uB974\\uB3C4\\uB85D \\uAD6C\\uD604\\uC744 \\uD560 \\uC218 \\uC788\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB7EC\\uB098 async await\\uB97C \\uC774\\uC6A9\\uD558\\uAC8C \\uB41C\\uB2E4\\uBA74 \\uB354 \\uC9C1\\uAD00\\uC801\\uC774\\uACE0 \\uAC00\\uB3C5\\uC131\\uC774 \\uB6F0\\uC5B4\\uB09C \\uCF54\\uB4DC\\uB97C \\uAD6C\\uD604\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\",tags:[\"javascript\"],createdAt:new Date(1690236e6)};function o(s){let a=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",br:\"br\",h2:\"h2\",pre:\"pre\",code:\"code\",h3:\"h3\",blockquote:\"blockquote\",ol:\"ol\",li:\"li\",h4:\"h4\"},s.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h1,{id:\"\\uC65C-async-await-\",children:[(0,n.jsx)(a.a,{className:\"anchor\",\"aria-label\":\"anchor\",href:\"#\\uC65C-async-await-\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\uC65C async await ?\"]}),`\n`,(0,n.jsxs)(a.p,{children:[\"\\uC774\\uC804\\uC758 Promise \\uAC1D\\uCCB4\\uB4E4\\uC5D0 \\uB300\\uD574\\uC11C \\uC131\\uACF5\\uC801\\uC73C\\uB85C resolve \\uB42C\\uC744\\uB54C \\uC774\\uC5D0 \\uB300\\uD55C \\uCC98\\uB9AC\\uB294 then\\uC73C\\uB85C \\uD5A5\\uD558\\uAC8C \\uB429\\uB2C8\\uB2E4. \\uC774\\uB85C\\uC368 then\\uC744 \\uCCB4\\uC774\\uB2DD \\uD574\\uC90C\\uC73C\\uB85C\\uC368 \\uCF5C\\uBC31\\uC9C0\\uC625\\uC5D0 \\uBE60\\uC9C4 \\uCF54\\uB4DC\\uB97C \\uBC11\\uC73C\\uB85C \\uD750\\uB974\\uB3C4\\uB85D \\uAD6C\\uD604\\uC744 \\uD560 \\uC218 \\uC788\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",(0,n.jsx)(a.br,{}),`\n`,\"\\uADF8\\uB7EC\\uB098 async await\\uB97C \\uC774\\uC6A9\\uD558\\uAC8C \\uB41C\\uB2E4\\uBA74 \\uB354 \\uC9C1\\uAD00\\uC801\\uC774\\uACE0 \\uAC00\\uB3C5\\uC131\\uC774 \\uB6F0\\uC5B4\\uB09C \\uCF54\\uB4DC\\uB97C \\uAD6C\\uD604\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,n.jsxs)(a.h2,{id:\"async-await\\uB97C-\\uC0AC\\uC6A9\\uD574\\uBCF4\\uC790\",children:[(0,n.jsx)(a.a,{className:\"anchor\",\"aria-label\":\"anchor\",href:\"#async-await\\uB97C-\\uC0AC\\uC6A9\\uD574\\uBCF4\\uC790\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"async await\\uB97C \\uC0AC\\uC6A9\\uD574\\uBCF4\\uC790\"]}),`\n`,(0,n.jsx)(a.p,{children:\"\\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uD504\\uB85C\\uBBF8\\uC2A4\\uB97C \\uB9AC\\uD134\\uD558\\uB294 \\uD568\\uC218\\uAC00 \\uC788\\uB2E4\\uACE0 \\uD569\\uC2DC\\uB2E4.\"}),`\n`,(0,n.jsx)(a.pre,{children:(0,n.jsxs)(a.code,{className:\"hljs language-js\",children:[(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"p\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-params\",children:\"ms\"}),`){\n   `,(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title class_\",children:\"Promise\"}),\"(\",(0,n.jsxs)(a.span,{className:\"hljs-function\",children:[\"(\",(0,n.jsx)(a.span,{className:\"hljs-params\",children:\"resolve,reject\"}),\")=>\"]}),`{\n      `,(0,n.jsx)(a.span,{className:\"hljs-built_in\",children:\"setTimeout\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-function\",children:\"()=>\"}),`{\n        `,(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"resolve\"}),`(ms);\n      },ms);\n   });\n}\n`]})}),`\n`,(0,n.jsxs)(a.h3,{id:\"promise-\\uAC1D\\uCCB4\\uB97C-\\uB9AC\\uD134\\uD558\\uB294-\\uD568\\uC218\\uB97C-await\\uB85C-\\uD638\\uCD9C\\uD558\\uAE30\",children:[(0,n.jsx)(a.a,{className:\"anchor\",\"aria-label\":\"anchor\",href:\"#promise-\\uAC1D\\uCCB4\\uB97C-\\uB9AC\\uD134\\uD558\\uB294-\\uD568\\uC218\\uB97C-await\\uB85C-\\uD638\\uCD9C\\uD558\\uAE30\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Promise \\uAC1D\\uCCB4\\uB97C \\uB9AC\\uD134\\uD558\\uB294 \\uD568\\uC218\\uB97C await\\uB85C \\uD638\\uCD9C\\uD558\\uAE30\"]}),`\n`,(0,n.jsxs)(a.blockquote,{children:[`\n`,(0,n.jsxs)(a.p,{children:[\"\\uD504\\uB85C\\uBBF8\\uC2A4 \\uAC1D\\uCCB4\\uAC00 \\uC815\\uC0C1\\uC801\\uC73C\\uB85C \\uC644\\uB8CC\\uB42C\\uC744\\uB54C resolve \\uD568\\uC218\\uAC00 \\uC2E4\\uD589\\uB418\\uACE0 \\uD568\\uC218\\uC5D0 \\uC778\\uC790\\uB85C \\uB370\\uC774\\uD130\\uB97C \\uC804\\uB2EC \\uD560 \\uC218 \\uC788\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\",(0,n.jsx)(a.br,{}),`\n`,\"\\uC774\\uB54C then\\uC5D0\\uC11C \\uADF8 \\uB370\\uC774\\uD130\\uB97C \\uC778\\uC790\\uB85C \\uC804\\uB2EC \\uBC1B\\uC558\\uC5C8\\uB294\\uB370 await\\uB3C4 \\uB9C8\\uCC2C\\uAC00\\uC9C0 \\uC785\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,n.jsx)(a.pre,{children:(0,n.jsxs)(a.code,{className:\"hljs language-js\",children:[\"(\",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"main\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-params\"}),`){\n   `,(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"const\"}),\" ms = \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"p\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-number\",children:\"1000\"}),`);\n   `,(0,n.jsx)(a.span,{className:\"hljs-variable language_\",children:\"console\"}),\".\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"log\"}),`(ms);\n})();\n`]})}),`\n`,(0,n.jsx)(a.p,{children:\"\\u2757\\uFE0F \\uC8FC\\uC758 \\uD560\\uC810 : await \\uD0A4\\uC6CC\\uB4DC\\uB294 \\uBC18\\uB4DC\\uC2DC async function \\uB0B4\\uBD80\\uC5D0\\uC11C\\uB9CC \\uC0AC\\uC6A9 \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(a.p,{children:\"\\uC704\\uCF54\\uB4DC\\uB97C \\uBCF4\\uBA74 async function\\uC778 main\\uC774 \\uC2E4\\uD589\\uB418\\uBA74\"}),`\n`,(0,n.jsxs)(a.ol,{children:[`\n`,(0,n.jsx)(a.li,{children:\"const ms = await p(1000); \\uCF54\\uB4DC\\uAC00 \\uC2E4\\uD589\\uB429\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(a.li,{children:\"main \\uD568\\uC218 \\uB0B4\\uBD80\\uC5D0\\uC11C\\uB294 p\\uD568\\uC218\\uAC00 \\uC815\\uC0C1\\uC801\\uC73C\\uB85C resolve \\uB420\\uB54C \\uAE4C\\uC9C0 \\uB2E4\\uC74C \\uCF54\\uB4DC\\uB97C \\uC9C4\\uD589\\uD558\\uC9C0 \\uC54A\\uACE0 \\uAE30\\uB2E4\\uB9BD\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(a.li,{children:\"ms\\uC5D0 1000\\uC774\\uB77C\\uB294 \\uB370\\uC774\\uD130\\uAC00 \\uB2F4\\uAE30\\uACE0 \\uB2E4\\uC74C \\uCF54\\uB4DC\\uC778 console.log\\uAC00 \\uC2E4\\uD589\\uB429\\uB2C8\\uB2E4.\"}),`\n`]}),`\n`,(0,n.jsxs)(a.h4,{id:\"reject\\uB41C-\\uACBD\\uC6B0\\uC5D0\\uB294-\",children:[(0,n.jsx)(a.a,{className:\"anchor\",\"aria-label\":\"anchor\",href:\"#reject\\uB41C-\\uACBD\\uC6B0\\uC5D0\\uB294-\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"reject\\uB41C \\uACBD\\uC6B0\\uC5D0\\uB294 ???\"]}),`\n`,(0,n.jsxs)(a.p,{children:[\"then\\uC744 \\uC0AC\\uC6A9\\uD588\\uC744 \\uB54C\\uB294 catch\\uB97C \\uC774\\uC6A9\\uD574 reject \\uB42C\\uC744 \\uB54C \\uC5D0\\uB7EC\\uB97C \\uB9AC\\uD134\\uD574\\uC92C\\uB2E4.\",(0,n.jsx)(a.br,{}),`\n`,\"async await\\uC5D0\\uB294 catch\\uC640 \\uAC19\\uC740 \\uAC83\\uC774 \\uC5C6\\uAE30 \\uB54C\\uBB38\\uC5D0 try-catch\\uBB38\\uC744 \\uC0AC\\uC6A9\\uD574 \\uD574\\uACB0\\uD574 \\uC90D\\uB2C8\\uB2E4.\"]}),`\n`,(0,n.jsx)(a.pre,{children:(0,n.jsxs)(a.code,{className:\"hljs language-js\",children:[\"(\",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"main\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-params\"}),`){\n   `,(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"try\"}),`{\n      `,(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"const\"}),\" ms = \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"p\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-number\",children:\"1000\"}),`);\n      `,(0,n.jsx)(a.span,{className:\"hljs-comment\",children:\"// resolve \\uB41C \\uACBD\\uC6B0 \\uC544\\uB798 \\uCF54\\uB4DC \\uC2E4\\uD589\"}),`\n      `,(0,n.jsx)(a.span,{className:\"hljs-variable language_\",children:\"console\"}),\".\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"log\"}),`(ms);\n   }`,(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"catch\"}),`(error){\n     `,(0,n.jsx)(a.span,{className:\"hljs-comment\",children:\"// reject \\uB41C \\uACBD\\uC6B0 \\uC544\\uB798 \\uCF54\\uB4DC \\uC2E4\\uD589\"}),`\n     `,(0,n.jsx)(a.span,{className:\"hljs-variable language_\",children:\"console\"}),\".\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"log\"}),`(error);\n   }\n})();\n`]})}),`\n`,(0,n.jsxs)(a.h3,{id:\"await\\uB97C-\\uC774\\uC6A9\\uD55C-promiseall--promiserace\",children:[(0,n.jsx)(a.a,{className:\"anchor\",\"aria-label\":\"anchor\",href:\"#await\\uB97C-\\uC774\\uC6A9\\uD55C-promiseall--promiserace\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"await\\uB97C \\uC774\\uC6A9\\uD55C Promise.all() & Promise.race()\"]}),`\n`,(0,n.jsx)(a.p,{children:\"\\uAE30\\uC874\\uC758 then\\uC744 \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uACFC \\uB2E4\\uB978 \\uAC83\\uC774\\uB77C\\uACE0\\uB294 then \\uB300\\uC2E0\\uC5D0 \\uC55E\\uC5D0 await\\uB97C \\uBD99\\uC5EC \\uC92C\\uB2E4\\uB294 \\uC810 \\uBC16\\uC5D0 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(a.pre,{children:(0,n.jsxs)(a.code,{className:\"hljs language-js\",children:[\"(\",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"async\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"main\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-params\"}),`){\n   `,(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"const\"}),\" results = \",(0,n.jsx)(a.span,{className:\"hljs-keyword\",children:\"await\"}),\" \",(0,n.jsx)(a.span,{className:\"hljs-title class_\",children:\"Promise\"}),\".\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"all\"}),\"([\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"p\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-number\",children:\"1000\"}),\"),\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"p\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-number\",children:\"2000\"}),\"),\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"p\"}),\"(\",(0,n.jsx)(a.span,{className:\"hljs-number\",children:\"3000\"}),`)])\n   `,(0,n.jsx)(a.span,{className:\"hljs-variable language_\",children:\"console\"}),\".\",(0,n.jsx)(a.span,{className:\"hljs-title function_\",children:\"log\"}),\"(results); \",(0,n.jsx)(a.span,{className:\"hljs-comment\",children:\"// [1000,2000,3000]\"}),`\n})();\n`]})}),`\n`,(0,n.jsx)(a.p,{children:\"race\\uB3C4 \\uADF8\\uB0E5 \\uAC19\\uC740 \\uBC29\\uBC95\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC0AC\\uC6A9 \\uC608\\uC81C\\uB294 \\uC0DD\\uB7B5 \\uD558\\uACA0\\uC2B5\\uB2C8\\uB2E4!\"})]})}function g(s={}){let{wrapper:a}=s.components||{};return a?(0,n.jsx)(a,Object.assign({},s,{children:(0,n.jsx)(o,s)})):o(s)}var b=g;return f(k);})();\n;return Component;"
  },
  "_id": "blog/2023/study/async-await.mdx",
  "_raw": {
    "sourceFilePath": "blog/2023/study/async-await.mdx",
    "sourceFileName": "async-await.mdx",
    "sourceFileDir": "blog/2023/study",
    "contentType": "mdx",
    "flattenedPath": "blog/2023/study/async-await"
  },
  "type": "Post",
  "slug": "/blog/2023/study/async-await",
  "readingMinutes": 3,
  "wordCount": 264
}